---
title: ã€Golangã€‘åˆ‡ç‰‡ slice
description: åˆ‡ç‰‡ï¼ˆsliceï¼‰æ˜¯goè¯­è¨€æä¾›çš„åŠ¨æ€æ•°ç»„ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹åº•å±‚åŠ¨æ€æ•°ç»„çš„å¼•ç”¨ã€‚
author: yu
date: 2025-09-17 20:00:00 +0800
categories: [Golang, åŸºç¡€]
tags: [Go, Golang]
image:
  path: /common/posts/Golang/Golang02.jpg
  alt: Golang
---


## slice

`æ•°ç»„`ï¼ˆarrayï¼‰çš„å¤§å°éƒ½æ˜¯å›ºå®šçš„ã€‚

`åˆ‡ç‰‡`ï¼ˆsliceï¼‰ä¸ºæ•°ç»„å…ƒç´ æä¾›äº†åŠ¨æ€å¤§å°çš„ã€çµæ´»çš„è§†è§’ã€‚åœ¨å®è·µä¸­ï¼Œåˆ‡ç‰‡æ¯”æ•°ç»„æ›´å¸¸ç”¨ã€‚


## åˆ‡ç‰‡ç±»ä¼¼æ•°ç»„çš„å¼•ç”¨

åˆ‡ç‰‡çš„åº•å±‚æ˜¯åŠ¨æ€æ•°ç»„ã€‚

åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„çš„å¼•ç”¨ï¼Œå®ƒä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œåªæ˜¯æè¿°äº†åº•å±‚æ•°ç»„ä¸­çš„ä¸€æ®µã€‚

æ›´æ”¹åˆ‡ç‰‡çš„å…ƒç´ ä¼šä¿®æ”¹å…¶åº•å±‚æ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´ ã€‚

å’Œå®ƒå…±äº«åº•å±‚æ•°ç»„çš„åˆ‡ç‰‡éƒ½ä¼šè§‚æµ‹åˆ°è¿™äº›ä¿®æ”¹ã€‚ä½†è§¦å‘**æ‰©å®¹**æ—¶ï¼Œå‘ç”Ÿæ‰©å®¹çš„åˆ‡ç‰‡ä¼šæˆä¸º**æ–°æ•°ç»„çš„å¼•ç”¨**ã€‚

é€šè¿‡æ•°ç»„åˆ›å»ºçš„åˆ‡ç‰‡ï¼š
- åˆ‡ç‰‡ä¸æ•°ç»„å…±äº«å†…å­˜ç©ºé—´ã€‚
- åœ¨åˆ‡ç‰‡è¿›è¡Œ`append`æ“ä½œæ—¶ï¼Œè‹¥æ•°ç»„ç©ºé—´æœ‰ç©ºé—²ï¼Œä¼šå°†æ•°ç»„ä¸‹ä¸€ä¸ªä½ç½®è®¾ç½®ä¸ºç»™å®šå€¼ã€‚
- åœ¨åˆ‡ç‰‡è¿›è¡Œ`append`æ“ä½œæ—¶ï¼Œè‹¥æ•°ç»„ç©ºé—´ä¸å¤Ÿç”¨ï¼Œåˆ™ä¼šåˆ†é…ä¸€ä¸ªæ›´å¤§çš„åº•å±‚æ•°ç»„ï¼Œè¯¥åˆ‡ç‰‡æˆä¸º**æ–°æ•°ç»„çš„å¼•ç”¨**ï¼Œå’ŒåŸæ•°ç»„ä¸å†å…³è”ï¼Œå®ƒä»¬äº’ç›¸ç‹¬ç«‹ã€‚

ç¤ºä¾‹ï¼š
```go
package main

import "fmt"

func main() {
    langs := [5]string{"C", "C++", "Golang", "Python", "Cangjie"}
    slice1 := langs[0:3]  // []string{"C", "C++", "Golang"}
    slice2 := langs[1:3]  // []string{"C++", "Golang"}

    fmt.Printf("%T, %v\n", langs, langs)     // [5]string{"C", "C++", "Golang", "Python", "Cangjie"}
    fmt.Printf("%T, %v\n", slice1, slice1)   // []string{"C", "C++", "Golang"}
    fmt.Printf("%T, %v\n", slice2, slice2)   // []string{"C++", "Golang"}
    fmt.Println("------------------------")

    slice2[1] = "XXX"
    fmt.Printf("%T, %v\n", langs, langs)     // [5]string{"C", "C++", "XXX", "Python", "Cangjie"}
    fmt.Printf("%T, %v\n", slice1, slice1)   // []string{"C", "C++", "XXX"}
    fmt.Printf("%T, %v\n", slice2, slice2)   // []string{"C++", "XXX"}
    fmt.Println("------------------------")

    slice1 = append(slice1, "Java")   // æ•°ç»„ç©ºé—´æœ‰ç©ºé—²ã€å¤Ÿç”¨
    fmt.Printf("%T, %v\n", langs, langs)     // [5]string{"C", "C++", "XXX", "Java", "Cangjie"}
    fmt.Printf("%T, %v\n", slice1, slice1)   // []string{"C", "C++", "XXX", "Java"}
    fmt.Printf("%T, %v\n", slice2, slice2)   // []string{"C++", "XXX"}
    fmt.Println("------------------------")

    slice3 := langs[:]
    slice3 = append(slice3, "PHP")   // æ•°ç»„æ²¡æœ‰å¤šä½™ç©ºé—´
    fmt.Printf("%T, %v\n", langs, langs)     // [5]string{"C", "C++", "XXX", "Java", "Cangjie"}
    fmt.Printf("%T, %v\n", slice1, slice1)   // []string{"C", "C++", "XXX", "Java"}
    fmt.Printf("%T, %v\n", slice2, slice2)   // []string{"C++", "XXX"}
    fmt.Printf("%T, %v\n", slice3, slice3)   // [5]string{"C", "C++", "XXX", "Java", "Cangjie", "PHP"}
    fmt.Println("------------------------")
}
```
è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š
```shell
[5]string, [C C++ Golang Python Cangjie]
[]string, [C C++ Golang]
[]string, [C++ Golang]
------------------------
[5]string, [C C++ XXX Python Cangjie]
[]string, [C C++ XXX]
[]string, [C++ XXX]
------------------------
[5]string, [C C++ XXX Java Cangjie]
[]string, [C C++ XXX Java]
[]string, [C++ XXX]
------------------------
[5]string, [C C++ XXX Java Cangjie]
[]string, [C C++ XXX Java]
[]string, [C++ XXX]
[]string, [C C++ XXX Java Cangjie PHP]
------------------------
```

é€šè¿‡åˆ‡ç‰‡åˆ›å»ºçš„åˆ‡ç‰‡ï¼Œç¤ºä¾‹ï¼š
```golang
package main

import "fmt"

func main() {
    var names = []string{"è’™å¥‡Â·DÂ·è·¯é£", "ç½—ç½—è¯ºäºšÂ·ç´¢éš†", "æœ¨ä¸‹ç§€å‰", "åˆ©å§†é²Â·ç‰¹æ©ä½©æ–¯ç‰¹"}
    n1 := names[0:3]
    n2 := names[2:4]

    fmt.Printf("%T, %v\n", names, names)
    fmt.Printf("%T, %v\n", n1, n1)
    fmt.Printf("%T, %v\n", n2, n2)
    fmt.Println("-----------------------------------")

    n1[2] = "2233"

    fmt.Printf("%T, %v\n", names, names)
    fmt.Printf("%T, %v\n", n1, n1)
    fmt.Printf("%T, %v\n", n2, n2)
    fmt.Println("-----------------------------------")

    n1 = append(n1, "äºŒåˆºçŒ¿")

    fmt.Printf("%T, %v\n", names, names)
    fmt.Printf("%T, %v\n", n1, n1)
    fmt.Printf("%T, %v\n", n2, n2)
    fmt.Println("-----------------------------------")


    n1 = append(n1, "ğŸ˜„")  // è§¦å‘æ‰©å®¹ï¼Œåªæœ‰ n1 å‘ç”Ÿå˜åŒ–
                           // n1 æˆä¸ºæ–°æ•°ç»„çš„å¼•ç”¨ï¼Œn2 å’Œ names ä»ç„¶æ˜¯åŒä¸€ä¸ªåŠ¨æ€æ•°ç»„çš„å¼•ç”¨

    fmt.Printf("%T, %v\n", names, names)
    fmt.Printf("%T, %v\n", n1, n1)
    fmt.Printf("%T, %v\n", n2, n2)
    fmt.Println("-----------------------------------")


    n1[0] = "ğŸ‡"     // åªæœ‰ n1 å‘ç”Ÿå˜åŒ–

    fmt.Printf("%T, %v\n", names, names)
    fmt.Printf("%T, %v\n", n1, n1)
    fmt.Printf("%T, %v\n", n2, n2)
    fmt.Println("-----------------------------------")
}
```
è¾“å‡ºå¦‚ä¸‹ï¼š
```shell
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† æœ¨ä¸‹ç§€å‰ åˆ©å§†é²Â·ç‰¹æ©ä½©æ–¯ç‰¹]
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† æœ¨ä¸‹ç§€å‰]
[]string, [æœ¨ä¸‹ç§€å‰ åˆ©å§†é²Â·ç‰¹æ©ä½©æ–¯ç‰¹]
-----------------------------------
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233 åˆ©å§†é²Â·ç‰¹æ©ä½©æ–¯ç‰¹]
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233]
[]string, [2233 åˆ©å§†é²Â·ç‰¹æ©ä½©æ–¯ç‰¹]
-----------------------------------
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233 äºŒåˆºçŒ¿]
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233 äºŒåˆºçŒ¿]
[]string, [2233 äºŒåˆºçŒ¿]
-----------------------------------
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233 äºŒåˆºçŒ¿]
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233 äºŒåˆºçŒ¿ ğŸ˜„]
[]string, [2233 äºŒåˆºçŒ¿]
-----------------------------------
[]string, [è’™å¥‡Â·DÂ·è·¯é£ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233 äºŒåˆºçŒ¿]
[]string, [ğŸ‡ ç½—ç½—è¯ºäºšÂ·ç´¢éš† 2233 äºŒåˆºçŒ¿ ğŸ˜„]
[]string, [2233 äºŒåˆºçŒ¿]
-----------------------------------
```

## åˆ‡ç‰‡é•¿åº¦ä¸å®¹é‡

åˆ‡ç‰‡çš„`é•¿åº¦`ï¼ˆlengthï¼‰å°±æ˜¯å®ƒæ‰€åŒ…å«çš„å…ƒç´ ä¸ªæ•°ï¼Œå¯¹åº”C++ vectorçš„sizeã€‚

åˆ‡ç‰‡çš„`å®¹é‡`ï¼ˆcapacityï¼‰æ˜¯ä»å®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹æ•°ï¼Œåˆ°å…¶åº•å±‚æ•°ç»„å…ƒç´ æœ«å°¾çš„ä¸ªæ•°ï¼Œ
å³å½“å‰æœ€å¤šå¯ä»¥ä¿å­˜çš„å…ƒç´ æ•°é‡ï¼Œè¶…è¿‡è¿™ä¸ªæ•°é‡å°±ä¼šè§¦å‘æ‰©å®¹ï¼Œå¯¹åº”C++ vectorçš„capacityã€‚

åˆ‡ç‰‡ `s` çš„é•¿åº¦å’Œå®¹é‡å¯é€šè¿‡è¡¨è¾¾å¼ `len(s)` å’Œ `cap(s)` æ¥è·å–ã€‚


## nil åˆ‡ç‰‡

åˆ‡ç‰‡çš„`é›¶å€¼`æ˜¯ `nil`ã€‚

å€¼ä¸ºé›¶å€¼nilçš„åˆ‡ç‰‡ç§°ä¸º`nil åˆ‡ç‰‡`ã€‚

nil åˆ‡ç‰‡çš„`é•¿åº¦`å’Œ`å®¹é‡`ä¸º 0 ä¸”`æ²¡æœ‰`åº•å±‚æ•°ç»„ã€‚

ä»£ç éªŒè¯ï¼š
```golang
package main

import "fmt"

func main() {
    var s []int
    fmt.Println(s, len(s), cap(s))
    if s == nil {
        fmt.Println("nil!")
    }
}
```

## åˆ é™¤åˆ‡ç‰‡å…ƒç´ 

### ä½¿ç”¨appendå‡½æ•°

append å‡½æ•°ç”¨äºå°†å…ƒç´ æ·»åŠ åˆ°ç°æœ‰åˆ‡ç‰‡ã€‚
é€šè¿‡å°†æ–°åˆ‡ç‰‡ä¸ç°æœ‰åˆ‡ç‰‡ä¸­çš„å…ƒç´ ç›¸ç»“åˆï¼Œæ‚¨å¯ä»¥æœ‰æ•ˆåœ°ä»ç°æœ‰åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ ã€‚

ä»¥ []int ç±»å‹åˆ‡ç‰‡ä¸ºä¾‹ï¼š
```go
func DelElement(slice []int, index int) []int {
    return append(slice[:index], slice[index+1:]...)
}
```

### ä½¿ç”¨copyå‡½æ•°

copy å‡½æ•°ç”¨äºå¤åˆ¶åˆ‡ç‰‡ä¸­çš„å…ƒç´ ã€‚é€šè¿‡å°†åˆ‡ç‰‡å…ƒç´ å¤åˆ¶åˆ°ä¸€ä¸ªè¾ƒå°çš„åˆ‡ç‰‡ä¸­ï¼Œæ‚¨å¯ä»¥æœ‰æ•ˆåœ°ä»åŸå§‹åˆ‡ç‰‡ä¸­ç§»é™¤å…ƒç´ ã€‚

ä»¥ []int ç±»å‹åˆ‡ç‰‡ä¸ºä¾‹ï¼š
```go
func DelElem(slice []int, index int) []int {
    copy(slice[index:], slice[index+1:])
    return slice[:len(slice)-1]
}
```

### ä½¿ç”¨sliceåˆ›å»ºæ–°åˆ‡ç‰‡

æ‚¨å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡è¯­æ³• `[start:end]` æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼Œå…¶ä¸­åŒ…å«åŸå§‹åˆ‡ç‰‡çš„ä¸€éƒ¨åˆ†ã€‚
è¿™ä½¿æ‚¨å¯ä»¥æœ‰æ•ˆåœ°è·³è¿‡è¦åˆ é™¤çš„å…ƒç´ ã€‚
```golang
// åˆ›å»ºä¸€ä¸ªæ•´æ•°åˆ‡ç‰‡
slice := []int{1, 2, 3, 4, 5}

// ä»åˆ‡ç‰‡ä¸­åˆ é™¤ç´¢å¼•ä¸º 2 çš„å…ƒç´ 
slice = slice[:2]

// æ‰“å°ä¿®æ”¹åçš„åˆ‡ç‰‡
fmt.Println(slice) // è¾“å‡ºï¼š[1 2]
```

### ä½¿ç”¨forå¾ªç¯

è™½ç„¶å…¶ä»–æ–¹æ³•æ•ˆç‡æ›´é«˜ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ for å¾ªç¯ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ ã€‚
æ­¤æ–¹æ³•æ¶‰åŠéå†åˆ‡ç‰‡å…ƒç´ å¹¶é€ä¸ªåˆ é™¤å®ƒä»¬ã€‚

ä»¥ []int ç±»å‹åˆ‡ç‰‡ä¸ºä¾‹ï¼š
```go
func DeleteElem(slice []int, index int) []int {
    for i := index; i<len(slice)-1; i++ {
        slice[i] = slice[i+1]
    }
    slice = slice[:len(slice)-1]
    return slice
}
```


