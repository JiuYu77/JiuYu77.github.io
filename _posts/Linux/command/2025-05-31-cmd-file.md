---
title: 查看文件/文件夹的大小
description: ls、du。
author: yu
date: 2025-05-31 14:46:34 +0800
categories: [Linux, 命令]
tags: [Linux, command]
---

`ls`命令
```shell
ls -l        # 查看指定目录的大小
ls -lh       # 查看指定目录的大小，以 B、KB、MB 、GB 等易读的单位显示大小
```

`du`命令
```shell
du -sh <目录名/文件>        # 查看指定目录的大小，du命令的结果可能不准确
```
[du命令的结果可能不准确](https://worktile.com/kb/ask/436199.html)
>**du命令的结果可能不准确，部分可能的原因：**
1.硬链接：Linux的文件系统中，文件可以有多个硬链接。硬链接是指多个文件名指向同一个文件实体。当使用du命令时，它会将每个硬链接都计算在内，导致对文件大小的计算出现重复。

>2.挂载点：du命令计算一个目录下的文件大小，但是如果这个目录是一个挂载点，它将计算该挂载点下文件系统的大小，而不是该挂载点目录本身的大小。这可能会导致du命令返回的值与预期不符。

>3.软链接：软链接是指一个文件名指向另一个文件名，它们是两个不同的文件实体。当遇到软链接时，du命令默认不会递归计算链接文件的大小，而是直接计算链接文件本身的大小。这种情况下，du命令返回的值可能会低估实际文件大小。

>4.权限限制：如果用户没有足够的权限访问某些文件或目录，du命令可能无法计算这些文件的大小。它只会计算用户有权限访问的文件和目录的大小。

>5.文件变动：du命令在计算文件大小时，只考虑了当前文件系统的状态。如果在du命令运行期间文件被删除、修改或新增，它无法实时更新计算结果，从而导致结果不准确。为了避免这种情况，可以使用其他工具如ncdu等。

